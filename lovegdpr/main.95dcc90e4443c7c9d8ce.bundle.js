webpackJsonp([1,4],{201:function(e,t,n){"use strict";var a=n(0);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(t,n,i):r(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(613),s=function(){function e(){}return e.prototype.createPdf=function(e,t,n,a){void 0===a&&(a=null);var r=new i({orientation:"portrait",unit:"mm"});r.setFontSize(14),r.text(t.titleText,20,100),r.setFontSize(12),r.text(this.getDate(),170,110),r.text(r.splitTextToSize(n,40),140,20),r.setLineWidth(180),r.setFontSize(12);var o=e.companyName+"\n"+(e.companyAddress?e.companyAddress:"")+"\n"+(e.companyZip?e.companyZip+" ":"")+(e.companyCity?e.companyCity:"")+"\n"+(e.companyCountry?e.companyCountry:"");r.text(o,20,60),a||(a=t.rawText?t.rawText:this.generateText(e,t,n));for(var s=r.splitTextToSize(a,170),c=120,l=0,p=s;l<p.length;l++){var m=p[l];r.text(m,20,c),c+=5,c>270&&(r.addPage(),c=20)}var d=e.companyName.replace(/[^A-Za-z0-9]/,"_");r.save(d+".pdf")},e.prototype.generateEmail=function(e,t,n,a){if(void 0===a&&(a=null),!a)return a=t.rawText?t.rawText:this.generateText(e,t,n),"mailto:"+e.companyEmail+"?subject="+encodeURIComponent(t.name)+"&body="+encodeURIComponent(a)},e.prototype.generateText=function(e,t,n){var a=this.getFirstLine(n),r="";e.contractNumber&&(r+="Betreff: "+e.contractNumber+"\n\n"),r+=t.introText;for(var o=0,i=t.textblocks;o<i.length;o++){var s=i[o];!0===s.selected&&(r+=" - "+s.content+"\n")}return",\n"===r.substr(r.length-2)&&(r=r.substr(0,r.length-2)+".\n"),e.remarks&&(r+="\n\n"+e.remarks+"\n"),r+=t.endClause+"\n\n\n",r+=a},e.prototype.getFirstLine=function(e){return e.split("\n")[0]},e.prototype.getDate=function(){var e=new Date,t=e.getDate().toString(),n=(e.getMonth()+1).toString(),a=e.getFullYear();return parseInt(t,10)<10&&(t="0"+t),parseInt(n,10)<10&&(n="0"+n),t+"."+n+"."+a},e=r([n.i(a.c)(),o("design:paramtypes",[])],e)}()},303:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(){function e(){this.letter=[]}return e}()},346:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=346},347:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(436),r=n(0),o=n(459),i=n(457);o.a.production&&n.i(r.a)(),n.i(a.a)().bootstrapModule(i.a)},456:function(e,t,n){"use strict";var a=n(0),r=n(303),o=n(201),i=n(461);n.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,n,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(t,n,i):r(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e){this.letterService=e,this.sender="",this.templateName="",this.templateNames=[],this.companyList=[],this.currentCompany=new r.a;var t=window.localStorage.getItem("companyList");null!==t&&(this.companyList=JSON.parse(t));var n=window.localStorage.getItem("sender");null!==n&&(this.sender=n);for(var a=new i.a,o=0,s=a.Templates;o<s.length;o++){var c=s[o];this.templateNames.push(c.name)}this.letter=a.Templates[0],this.templateName=this.letter.name,console.log(this.letter)}return e.prototype.changeTemplate=function(){this.letter=this.getTemplate(this.templateName)},e.prototype.getTemplate=function(e){for(var t=new i.a,n=0,a=t.Templates;n<a.length;n++){var r=a[n];if(r.name===e)return r}return null},e.prototype.getDate=function(){return this.letterService.getDate()},e.prototype.saveCompany=function(){for(var e=null,t=0,n=this.companyList;t<n.length;t++){var a=n[t];a.companyName===this.currentCompany.companyName&&(e=a)}if(null!==e)e.letter.push(JSON.parse(JSON.stringify(this.letter)));else{var o=JSON.parse(JSON.stringify(this.currentCompany));o.letter.push(this.letter),this.companyList.push(JSON.parse(JSON.stringify(o)))}this.saveCompanyList(),this.currentCompany=new r.a;for(var i=0,s=this.letter.textblocks;i<s.length;i++){s[i].selected=!0}},e.prototype.saveSender=function(){window.localStorage.setItem("sender",this.sender)},e.prototype.printPdf=function(e,t){this.letterService.createPdf(e,t,this.sender),t.printed=this.getDate(),this.saveCompanyList()},e.prototype.email=function(e,t){return this.letterService.generateEmail(e,t,this.sender)},e.prototype.saveCompanyList=function(){window.localStorage.setItem("companyList",JSON.stringify(this.companyList))},e.prototype.createLetter=function(e){this.currentCompany=e,this.letter=(new i.a).Templates[0],this.templateName=this.letter.name},e.prototype.editCompany=function(e,t){for(var n=[],a=0,r=e.letter;a<r.length;a++){var o=r[a];o!==t&&n.push(o)}if(e.letter=n,this.currentCompany=e,this.letter=t,0===e.letter.length){for(var i=[],s=0,c=this.companyList;s<c.length;s++){var l=c[s];l.companyName!==e.companyName&&i.push(l)}this.companyList=i,this.saveCompanyList()}},e=s([n.i(a.U)({selector:"app-root",template:n(616),styles:[n(614)]}),c("design:paramtypes",["function"==typeof(t=void 0!==o.a&&o.a)&&t||Object])],e);var t}()},457:function(e,t,n){"use strict";var a=n(193),r=n(0),o=n(426),i=n(432),s=n(201),c=n(456),l=n(458);n.d(t,"a",function(){return d});var p=this&&this.__decorate||function(e,t,n,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(t,n,i):r(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(){}return e=p([n.i(r.b)({declarations:[c.a,l.a],imports:[a.a,o.a,i.a],providers:[s.a],bootstrap:[c.a]}),m("design:paramtypes",[])],e)}()},458:function(e,t,n){"use strict";var a=n(0),r=n(460),o=n(201),i=n(303);n.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,n,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(t,n,i):r(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e){this.letterService=e,this.sender="",this.templateName="",this.templateNames=[],this.companyList=[],this.currentCompany=new i.a}return e.prototype.ngOnInit=function(){},e.prototype.saveCompany=function(){for(var e=null,t=0,n=this.companyList;t<n.length;t++){var a=n[t];a.companyName===this.currentCompany.companyName&&(e=a)}if(null!==e)e.letter.push(JSON.parse(JSON.stringify(this.letter)));else{var r=JSON.parse(JSON.stringify(this.currentCompany));r.letter.push(this.letter),this.companyList.push(JSON.parse(JSON.stringify(r)))}this.saveCompanyList(),this.currentCompany=new i.a;for(var o=0,s=this.letter.textblocks;o<s.length;o++){s[o].selected=!0}this.letter.rawText=""},e.prototype.editText=function(){var e=this.letterService.generateText(this.currentCompany,this.letter,this.sender);this.letter.rawText=e},e.prototype.saveCompanyList=function(){window.localStorage.setItem("companyList",JSON.stringify(this.companyList))},e.prototype.getDate=function(){return this.letterService.getDate()},s([n.i(a.w)(),c("design:type",Object)],e.prototype,"sender",void 0),s([n.i(a.w)(),c("design:type",Object)],e.prototype,"templateName",void 0),s([n.i(a.w)(),c("design:type",Array)],e.prototype,"templateNames",void 0),s([n.i(a.w)(),c("design:type","function"==typeof(t=void 0!==r.a&&r.a)&&t||Object)],e.prototype,"letter",void 0),s([n.i(a.w)(),c("design:type",Array)],e.prototype,"companyList",void 0),s([n.i(a.w)(),c("design:type","function"==typeof(l=void 0!==i.a&&i.a)&&l||Object)],e.prototype,"currentCompany",void 0),e=s([n.i(a.U)({selector:"app-form",template:n(617),styles:[n(615)]}),c("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object])],e);var t,l,p}()},459:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={production:!0}},460:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(){function e(){this.rawText=""}return e}()},461:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(){function e(){this.Templates=[{name:"Art 15 - Request Data",titleText:"Request to access personal data according to Article 15 GDPR",introText:"To Whom It May Concern:\n\n\nI am hereby requesting access according to Article 15 GDPR. Please confirm whether or not you are processing personal data (as defined by Article 4(1) and (2) GDPR) concerning me.\n In case you are, I am hereby requesting access to the following information pursuant to Article 15 GDPR: \n",endClause:"\nIf you are transferring my personal data to a third country or an international organisation, I request to be informed about the appropriate safeguards according to Article 46 GDPR concerning the transfer.\n\n My request explicitly includes any other services and companies for which you are the controller as defined by Article 4(7) GDPR. \n\n As laid down in Article 12(3) GDPR, you have to provide the requested information to me without undue delay and in any event within one month of receipt of the request. According to Article 15(3) GDPR, you have to answer this request without cost to me. \n\n If you do not answer my request within the stated period, I am reserving the right to take legal action against you and to lodge a complaint with the responsible supervisory authority. \n\n\n Yours sincerely,\n",textblocks:[{name:"text1",content:"all personal data concerning me that you have stored;",selected:!0},{name:"text2",content:"the purposes of the processing; (lit. a)",selected:!0},{name:"text3",content:"the categories of personal data concerned; (lit. b)",selected:!0},{name:"text4",content:"the recipients or categories of recipient to whom the personal data have been or will be disclosed; (lit. c)",selected:!0},{name:"text5",content:"where possible, the envisaged period for which the personal data will be stored, or, if not possible, the criteria used to determine that period; (lit. d)",selected:!0},{name:"text6",content:"where the personal data are not collected from the data subject, any available information as to their source;",selected:!0},{name:"text7",content:"the existence of automated decision-making, including profiling, referred to in Article 22(1) and (4) GDPR and, at least in those cases, meaningful information about the logic involved, as well as the significance and the envisaged consequences of such processing for me.",selected:!0}]}]}return e}()},614:function(e,t){e.exports="@media (min-width:1200px){.container{max-width:1600px}}"},615:function(e,t){e.exports=""},616:function(e,t){e.exports='<nav class="navbar navbar-dark bg-dark flex-md-nowrap shadow">\n  <span class="navbar-brand col-sm-3 col-md-2 mr-0">DSGVO-Generator</span>\n  <ul class="navbar-nav px-3">\n    <li class="nav-item text-nowrap">\n      <a class="nav-link" href="https://github.com/adiehl/lovegdpr/blob/master/INFO.md" target="_blank">\n        Privacy Info</a>\n    </li>\n  </ul>\n</nav>\n<div class="container mt-3">\n\n  <div class="row">\n    \x3c!-- Firmenliste --\x3e\n\n    <div class="col-md-5 order-md-2 mb-5 sidebar bg-light d-md-block d-none">\n      <h4 class="d-flex justify-content-between align-items-center mb-3">\n        Template\n      </h4>\n      <select class="form-control mb-3" [(ngModel)]="templateName" (change)="changeTemplate()">\n        <option *ngFor="let templateName of templateNames" value="{{templateName}}">{{templateName}}</option>\n      </select>\n      <ng-container *ngIf="companyList.length">\n        <h4 class="d-flex justify-content-between align-items-center mb-3">\n          Recipients\n          <span class="badge badge-success badge-pill">{{companyList.length}}</span>\n        </h4>\n\n        <ul class="list-group list-group-flush" *ngFor="let company of companyList">\n          <li class="list-group-item">\n            <div>\n              <h5>{{company.companyName}} <span class="badge badge-success float-right ml-1" (click)="createLetter(company)">New</span></h5>\n\n\n            </div>\n            <div class="clear" style="clear: both;"></div>\n            <div *ngFor="let letter of company.letter">\n              {{letter.name}}\n              <span class="badge badge-danger float-right ml-1" (click)="editCompany(company, letter)">Edit</span>\n              <span *ngIf=\'letter.printed === undefined\' class="badge badge-secondary float-right" (click)="printPdf(company, letter)">PDF</span>\n              <span *ngIf=\'letter.printed !== undefined\' class="badge badge-success float-right" (click)="printPdf(company, letter)">PDF</span>\n              <a *ngIf=\'company.companyEmail !== "" && company.companyEmail !== undefined\' class="badge badge-success float-right text-white m-y-1" [href]="email(company, letter)">Email</a>\n            </div>\n          </li>\n        </ul>\n\n        \x3c!--<form class="p-2 mb-3">--\x3e\n          \x3c!--<button type="submit" class="btn btn-primary">Drucken</button>--\x3e\n        \x3c!--</form>--\x3e\n      </ng-container>\n      <h4 class="d-flex justify-content-between align-items-center mb-3 mt-2">\n        Sender\n      </h4>\n      <textarea rows="6" (change)="saveSender()" [(ngModel)]="sender" class="form-control"></textarea>\n\n\n    </div>\n\n    \x3c!-- Details --\x3e\n    <main role="main" class="col-md-7 order-md-1">\n      <app-form [(sender)]="sender" [(templateName)]="templateName" [(templateNames)]="templateNames" [(letter)]="letter" [(companyList)]="companyList" [(currentCompany)]="currentCompany"></app-form>\n    </main>\n  </div>\n\n\n</div>\n'},617:function(e,t){e.exports='  <h4 class="mb-3">Firma</h4>\n  <form class="needs-validation" novalidate>\n    <div class="mb-3">\n      <label for="companyName">Recipient</label>\n      <input [(ngModel)]="currentCompany.companyName" name="companyName" type="text" class="form-control" id="companyName" placeholder="" value="" required>\n      <div class="invalid-feedback">\n        Please enter recipient\n      </div>\n    </div>\n\n    <div class="mb-3">\n      <label for="companyAddress">Adress</label>\n      <input [(ngModel)]="currentCompany.companyAddress" name="companyAddress"  type="text" class="form-control" id="companyAddress" placeholder="" value="" required>\n      <div class="invalid-feedback">\n        Please enter address\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="col-md-3 mb-3">\n        <label for="companyZip">Postcode</label>\n        <input [(ngModel)]="currentCompany.companyZip" name="companyZip"  type="text" class="form-control" id="companyZip" placeholder="" value="" required>\n        <div class="invalid-feedback">\n          Postcode required\n        </div>\n      </div>\n      <div class="col-md-9 mb-3">\n        <label for="companyCity">City</label>\n        <input [(ngModel)]="currentCompany.companyCity" name="companyCity"  type="text" class="form-control" id="companyCity" placeholder="" value="" required>\n        <div class="invalid-feedback">\n          City required\n        </div>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="col-md-6 mb-6">\n        <label for="companyEmail">Email</label>\n        <input [(ngModel)]="currentCompany.companyEmail" name="companyEmail"  type="text" class="form-control" id="companyEmail" placeholder="" value="">\n      </div>\n      <div class="col-md-6 mb-6">\n        <label for="companyFax">Fax</label>\n        <input [(ngModel)]="currentCompany.companyFax" name="companyFax"  type="text" class="form-control" id="companyFax" placeholder="" value="">\n      </div>\n    </div>\n\n\n    <div class="mb-3">\n      <label for="companyCountry">Country</label>\n      <input [(ngModel)]="currentCompany.companyCountry" name="companyCountry"  type="text" class="form-control" id="companyCountry" placeholder="" value="">\n    </div>\n    <div class="mb-3">\n      <label for="contractNumber">Contract Number, Bank Account Number, etc. (optional)</label>\n      <input [(ngModel)]="currentCompany.contractNumber" name="contractNumber"  type="text" class="form-control" id="contractNumber" placeholder="File Number, Phone Number, Contract Number" value="">\n    </div>\n\n\n    <div class="mb-3">\n      <label for="remarks">Further Remarks (optional)</label>\n      <textarea [(ngModel)]="currentCompany.remarks" name="remarks"  class="form-control" id="remarks" placeholder="e. g. related to previous letter"></textarea>\n\n    </div>\n\n    <hr class="mb-4">\n    <h4 class="mb-3">{{letter.titleText}}</h4>\n    <span [hidden]="letter.rawText">\n      <div class="float-right">{{getDate()}}</div><br />\n      <p *ngIf="currentCompany.contractNumber">Subject: {{currentCompany.contractNumber}}</p>\n\n      <p>{{letter.introText}}</p>\n\n      <div class="custom-control custom-checkbox" *ngFor="let textblock of letter.textblocks">\n        <input [(ngModel)]="textblock.selected" name="{{textblock.name}}" type="checkbox" class="custom-control-input" id="{{textblock.name}}">\n        <label class="custom-control-label" for="{{textblock.name}}">{{textblock.content}}</label>\n      </div>\n\n      <p>{{letter.endClause}}</p>\n    </span>\n    <span [hidden]="!letter.rawText">\n      <textarea [(ngModel)]="letter.rawText" name="rawText"  class="form-control" id="rawText" style="height: 25em;"></textarea>\n    </span>\n\n    <hr class="mb-4">\n    <div class="container">\n      <div class="row">\n        <div class="col-sm"><button (click)="saveCompany()" class="btn btn-primary btn-lg btn-block" type="submit">Save</button></div>\n        <div class="col-sm"><button (click)="editText()" class="btn btn-secondary btn-lg btn-block" type="submit">Edit Text</button></div>\n      </div>\n    </div>\n\n  </form>\n'},634:function(e,t,n){e.exports=n(347)}},[634]);