webpackJsonp([1,4],{302:function(e,n,t){"use strict";var a=t(0);t.d(n,"a",function(){return s});var r=this&&this.__decorate||function(e,n,t,a){var r,o=arguments.length,i=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(n,t,i):r(n,t))||i);return o>3&&i&&Object.defineProperty(n,t,i),i},o=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},i=t(611),s=function(){function e(){}return e.prototype.createPdf=function(e,n,t){var a=new i({orientation:"portrait",unit:"mm"}),r="";e.contractNumber&&(r+="Betreff: "+e.contractNumber+"\n\n"),a.setFontSize(14),a.text(n.titleText,20,100),a.setFontSize(12),a.text(this.getDate(),170,110),r+=n.introText;for(var o=0,s=n.textblocks;o<s.length;o++){var c=s[o];!0===c.selected&&(r+=" - "+c.content+"\n")}",\n"===r.substr(r.length-2)&&(r=r.substr(0,r.length-2)+".\n"),e.remarks&&(r+="\n\n"+e.remarks+"\n"),a.text(a.splitTextToSize(t,40),140,20);var l=t.split("\n"),m=l[0];r+=n.endClause+"\n\n\n",r+=m,a.setLineWidth(180),a.setFontSize(12);var d=e.companyName+"\n"+(e.companyAddress?e.companyAddress:"")+"\n"+(e.companyZip?e.companyZip+" ":"")+(e.companyCity?e.companyCity:"")+"\n"+(e.companyCountry?e.companyCountry:"");a.text(d,20,60),a.text(a.splitTextToSize(r,170),20,120);var u=e.companyName.replace(/[^A-Za-z0-9]/,"_");a.save(u+".pdf")},e.prototype.getDate=function(){var e=new Date,n=e.getDate().toString(),t=(e.getMonth()+1).toString(),a=e.getFullYear();return parseInt(n,10)<10&&(n="0"+n),parseInt(t,10)<10&&(t="0"+t),n+"."+t+"."+a},e=r([t.i(a.c)(),o("design:paramtypes",[])],e)}()},345:function(e,n){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=345},346:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(435),r=t(0),o=t(457),i=t(456);o.a.production&&t.i(r.a)(),t.i(a.a)().bootstrapModule(i.a)},455:function(e,n,t){"use strict";var a=t(0),r=t(458),o=t(302),i=t(459);t.d(n,"a",function(){return l});var s=this&&this.__decorate||function(e,n,t,a){var r,o=arguments.length,i=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(n,t,i):r(n,t))||i);return o>3&&i&&Object.defineProperty(n,t,i),i},c=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},l=function(){function e(e){this.letterService=e,this.sender="",this.templateName="",this.templateNames=[],this.companyList=[],this.currentCompany=new r.a;var n=window.localStorage.getItem("companyList");null!==n&&(this.companyList=JSON.parse(n));var t=window.localStorage.getItem("sender");null!==t&&(this.sender=t);for(var a=new i.a,o=0,s=a.Templates;o<s.length;o++){var c=s[o];this.templateNames.push(c.name)}this.letter=a.Templates[0],this.templateName=this.letter.name,console.log(this.letter)}return e.prototype.changeTemplate=function(){this.letter=this.getTemplate(this.templateName)},e.prototype.getTemplate=function(e){for(var n=new i.a,t=0,a=n.Templates;t<a.length;t++){var r=a[t];if(r.name===e)return r}return null},e.prototype.getDate=function(){return this.letterService.getDate()},e.prototype.saveCompany=function(){for(var e=null,n=0,t=this.companyList;n<t.length;n++){var a=t[n];a.companyName===this.currentCompany.companyName&&(e=a)}if(null!==e)e.letter.push(JSON.parse(JSON.stringify(this.letter)));else{var o=JSON.parse(JSON.stringify(this.currentCompany));o.letter.push(this.letter),this.companyList.push(JSON.parse(JSON.stringify(o)))}this.saveCompanyList(),this.currentCompany=new r.a;for(var i=0,s=this.letter.textblocks;i<s.length;i++){s[i].selected=!0}},e.prototype.saveSender=function(){window.localStorage.setItem("sender",this.sender)},e.prototype.printPdf=function(e,n){this.letterService.createPdf(e,n,this.sender),n.printed=this.getDate(),this.saveCompanyList()},e.prototype.saveCompanyList=function(){window.localStorage.setItem("companyList",JSON.stringify(this.companyList))},e.prototype.createLetter=function(e){this.currentCompany=e,this.letter=(new i.a).Templates[0],this.templateName=this.letter.name},e.prototype.editCompany=function(e,n){for(var t=[],a=0,r=e.letter;a<r.length;a++){var o=r[a];o!==n&&t.push(o)}if(e.letter=t,this.currentCompany=e,this.letter=n,0===e.letter.length){for(var i=[],s=0,c=this.companyList;s<c.length;s++){var l=c[s];l.companyName!==e.companyName&&i.push(l)}this.companyList=i,this.saveCompanyList()}},e=s([t.i(a.U)({selector:"app-root",template:t(613),styles:[t(612)]}),c("design:paramtypes",["function"==typeof(n=void 0!==o.a&&o.a)&&n||Object])],e);var n}()},456:function(e,n,t){"use strict";var a=t(193),r=t(0),o=t(425),i=t(431),s=t(302),c=t(455);t.d(n,"a",function(){return d});var l=this&&this.__decorate||function(e,n,t,a){var r,o=arguments.length,i=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(n,t,i):r(n,t))||i);return o>3&&i&&Object.defineProperty(n,t,i),i},m=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},d=function(){function e(){}return e=l([t.i(r.b)({declarations:[c.a],imports:[a.a,o.a,i.a],providers:[s.a],bootstrap:[c.a]}),m("design:paramtypes",[])],e)}()},457:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var a={production:!0}},458:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var a=function(){function e(){this.letter=[]}return e}()},459:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var a=function(){function e(){this.Templates=[{name:"DSGVO-Auskunft",titleText:"Datenschutzrechliche Selbstauskunft gemäß DSGVO",introText:"Sehr geehrte Damen und Herren,\n\nnach Art. 15 DSGVO habe ich das Recht, von Ihnen eine Bestätigung darüber zu verlangen, ob sie personenbezogene Daten über mich gespeichert haben. Sofern dies der Fall ist, so habe ich ein Recht auf Auskunft über diese Daten.\n\nIch darf Sie in diesem Fall bitten, mir\n",endClause:"\n\n\nMit freundlichen Grüßen,",textblocks:[{name:"text1",content:"vollumfänglich sämtliche über mich bei Ihnen gespeicherten Daten in Kopie zu überlassen,",selected:!0},{name:"text2",content:"den Zweck der Verarbeitung dieser Daten zu nennen,",selected:!0},{name:"text3",content:"die Empfänger oder Kategorien von Empfängern, die meine Daten bereits erhalten haben oder zukünftig noch erhalten werden zu nennen,",selected:!0},{name:"text4",content:"die geplante Dauer der Speicherung dieser Daten zu nennen,",selected:!0},{name:"text5",content:"sofern die Daten nicht bei mir erhoben werden, mir alle verfügbaren Daten über die Herkunft der Daten mitzuteilen,",selected:!0},{name:"text6",content:"mir darzulegen, ob eine automatisierte Entscheidungsfindung einschließlich Profiling gmäß Art. 22 DSGVO besteht und mir in diesem Fall aussagekräftige Informationen über die involvierte Logik und die angestrebten Auswirkungen einer derartigen Verarbeitung für meine Person zukommen zu lassen,",selected:!0}]},{name:"DSGVO-Beanstandung",titleText:"Beanstandung Ihrer Antwort auf das DSGVO-Auskunftsersuchen",introText:"Sehr geehrte Damen und Herren,\n\nIhre Antwort auf meine Anfrage war fehlerhaft. Bitte korrigieren Sie Ihre Angaben umgehend,Ansonsten sehe ich mich gezwungen Sie der zuständigen Aufsichtsbehörde zu melden sowie dieAnsprüche gerichtlich durchzusetzen.\n\nFehlerhaft oder unvollständig waren insbesondere folgende Angaben:\n",endClause:"\n\n\nMit freundlichen Grüßen,",textblocks:[{name:"return1",content:"Es fehlten Konto- bzw. Abrechnungsdaten.",selected:!0},{name:"return2",content:"Es fehlten Daten über mein Kaufverhalten.",selected:!0},{name:"return3",content:"Es fehlten Nutzungsprotokolle.",selected:!0},{name:"return4",content:"Es fehlten Zutrittsprotokolle.",selected:!0},{name:"return5",content:"Es fehlten Standortdaten und -verläufe.",selected:!0},{name:"return6",content:"Es fehlten Datenbankeinträge.",selected:!0},{name:"return7",content:"Es fehlten technische Daten.",selected:!0},{name:"return8",content:"Es fehlten interne Notizen und Aufzeichnungen.",selected:!0}]}]}return e}()},612:function(e,n){e.exports=""},613:function(e,n){e.exports='<nav class="navbar navbar-dark bg-dark flex-md-nowrap shadow">\n  <span class="navbar-brand col-sm-3 col-md-2 mr-0">DSGVO-Generator</span>\n  <ul class="navbar-nav px-3">\n    <li class="nav-item text-nowrap">\n      <a class="nav-link" href="https://github.com/adiehl/hdgdldsgvo/blob/master/INFO.md" target="_blank">\n        Datenschutzerklärung, Rechtliche Hinweise und Infos</a>\n    </li>\n  </ul>\n</nav>\n<div class="container mt-3">\n\n  <div class="row">\n    \x3c!-- Firmenliste --\x3e\n\n    <div class="col-md-4 order-md-2 mb-4 sidebar bg-light d-md-block d-none">\n      <h4 class="d-flex justify-content-between align-items-center mb-3">\n        Vorlage\n      </h4>\n      <select class="form-control mb-3" [(ngModel)]="templateName" (change)="changeTemplate()">\n        <option *ngFor="let templateName of templateNames" value="{{templateName}}">{{templateName}}</option>\n      </select>\n      <ng-container *ngIf="companyList.length">\n        <h4 class="d-flex justify-content-between align-items-center mb-3">\n          Firmenliste\n          <span class="badge badge-success badge-pill">{{companyList.length}}</span>\n        </h4>\n\n        <ul class="list-group list-group-flush" *ngFor="let company of companyList">\n          <li class="list-group-item">\n            <div>\n              <h5>{{company.companyName}} <span class="badge badge-success float-right ml-1" (click)="createLetter(company)">Neu</span></h5>\n\n\n            </div>\n            <div class="clear" style="clear: both;"></div>\n            <div *ngFor="let letter of company.letter">\n              {{letter.name}}\n              <span class="badge badge-danger float-right ml-1" (click)="editCompany(company, letter)">Edit</span>\n              <span *ngIf=\'letter.printed === undefined\' class="badge badge-secondary float-right" (click)="printPdf(company, letter)">PDF</span>\n              <span *ngIf=\'letter.printed !== undefined\' class="badge badge-success float-right" (click)="printPdf(company, letter)">PDF</span>\n            </div>\n          </li>\n        </ul>\n\n        \x3c!--<form class="p-2 mb-3">--\x3e\n          \x3c!--<button type="submit" class="btn btn-primary">Drucken</button>--\x3e\n        \x3c!--</form>--\x3e\n      </ng-container>\n      <h4 class="d-flex justify-content-between align-items-center mb-3 mt-2">\n        Absender\n      </h4>\n      <textarea rows="6" (change)="saveSender()" [(ngModel)]="sender" class="form-control"></textarea>\n      \x3c!--<h4 class="d-flex justify-content-between align-items-center mb-3">--\x3e\n        \x3c!--<span class="text-muted">Archiv</span>--\x3e\n        \x3c!--<span class="badge badge-secondary badge-pill">{{companyList.length}}</span>--\x3e\n      \x3c!--</h4>--\x3e\n\n      \x3c!--<ul class="list-group">--\x3e\n        \x3c!--<li class="list-group-item" *ngFor="let company of companyList"><h5>{{company.companyName}}</h5></li>--\x3e\n      \x3c!--</ul>--\x3e\n\n    </div>\n\n    \x3c!-- Details --\x3e\n    <main role="main" class="col-md-8 order-md-1">\n      <h4 class="mb-3">Firma</h4>\n      <form class="needs-validation" novalidate>\n        <div class="mb-3">\n          <label for="companyName">Firmenname</label>\n          <input [(ngModel)]="currentCompany.companyName" name="companyName" type="text" class="form-control" id="companyName" placeholder="" value="" required>\n          <div class="invalid-feedback">\n            Firmenname muss angegeben werden\n          </div>\n        </div>\n\n        <div class="mb-3">\n          <label for="companyAddress">Straße / Postfach</label>\n          <input [(ngModel)]="currentCompany.companyAddress" name="companyAddress"  type="text" class="form-control" id="companyAddress" placeholder="" value="" required>\n          <div class="invalid-feedback">\n            Anchrift erforderlich\n          </div>\n        </div>\n\n        <div class="row">\n          <div class="col-md-3 mb-3">\n            <label for="companyZip">PLZ</label>\n            <input [(ngModel)]="currentCompany.companyZip" name="companyZip"  type="text" class="form-control" id="companyZip" placeholder="" value="" required>\n            <div class="invalid-feedback">\n              PLZ erforderlich\n            </div>\n          </div>\n          <div class="col-md-9 mb-3">\n            <label for="companyCity">Ort</label>\n            <input [(ngModel)]="currentCompany.companyCity" name="companyCity"  type="text" class="form-control" id="companyCity" placeholder="" value="" required>\n            <div class="invalid-feedback">\n              Ort erforderlich\n            </div>\n          </div>\n        </div>\n\n        <div class="mb-3">\n          <label for="companyCountry">Land (nur bei Ausland)</label>\n          <input [(ngModel)]="currentCompany.companyCountry" name="companyCountry"  type="text" class="form-control" id="companyCountry" placeholder="" value="">\n        </div>\n        <div class="mb-3">\n          <label for="contractNumber">Vertragsnummer, Geschäftszeichen, Kennzeichen (Optional)</label>\n          <input [(ngModel)]="currentCompany.contractNumber" name="contractNumber"  type="text" class="form-control" id="contractNumber" placeholder="Telefonnummer, Vertragsnummer, Aktenzeichen, etc." value="">\n\n        </div>\n\n\n        <div class="mb-3">\n          <label for="remarks">Weitere Bemerkungen (optional)</label>\n          <textarea [(ngModel)]="currentCompany.remarks" name="remarks"  class="form-control" id="remarks" placeholder="z. B. bezug auf ein vorheriges Schreiben, präzisierung des Auskunftsersuchens"></textarea>\n\n        </div>\n\n        <hr class="mb-4">\n        <h4 class="mb-3">{{letter.titleText}}</h4>\n\n        <div class="float-right">{{getDate()}}</div>\n        <p *ngIf="currentCompany.contractNumber">Betreff: {{currentCompany.contractNumber}}</p>\n\n\n        <div class="custom-control custom-checkbox" *ngFor="let textblock of letter.textblocks">\n          <input [(ngModel)]="textblock.selected" name="{{textblock.name}}" type="checkbox" class="custom-control-input" id="{{textblock.name}}">\n          <label class="custom-control-label" for="{{textblock.name}}">{{textblock.content}}</label>\n        </div>\n\n        <hr class="mb-4">\n\n        <button (click)="saveCompany()" class="btn btn-primary btn-lg btn-block" type="submit">Eintrag speichern</button>\n      </form>\n    </main>\n  </div>\n\n\n</div>\n'},630:function(e,n,t){e.exports=t(346)}},[630]);